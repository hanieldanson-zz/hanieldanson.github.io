<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="My Personal Website">
  <meta name="author" content="Daniel Hanson">
  <link href='http://fonts.googleapis.com/css?family=Quicksand:300,400,700' rel='stylesheet' type='text/css'>
  <link type="text/css" rel="stylesheet" href="../stylesheets/styles.css"/>
  <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

  <title>Daniel Hanson</title>
</head>
<body>
  <table align="right" class="mytable mylinks">
    <tr>
      <td>
        <a href="../index.html">Home</a>
      </td>
      <td>
        <a href="../about/index.html">About</a>
      </td>
      <td>
        <a href="../experience/index.html">Experience</a>
      </td>
      <td>
        <a href="../education/index.html">Education</a>
      </td>
      <td>
        <a href="../blog/index.html">Blog</a>
      </td>
      <td>
        <a href="../projects/index.html">Projects</a>
      </td>
      <td>
        <a href="mailto:hanson.e.daniel@gmail.com">Contact</a>
      </td>
    </tr>
  </table>
  <img id="headerimg" src="../imgs/cover.jpg"/>
    <div id="profile">
      <img src="../imgs/Mug_updated.jpg" class="profile-img" />
      <div>
        <a href="https://twitter.com/daniel_hanson" class="fa fa-twitter fa-2x">
        </a>
        <a href="https://github.com/hanieldanson" class="fa fa-github fa-2x">
        </a>
        <a href="https://linkedin.com/in/dehanson" class="fa fa-linkedin fa-2x">
        </a>
      </div>
  </div>
  <div class="bodypad">
      <h2>An Overview of Variable Scope</h2>
      <h3>Car Buying Ruby Code Included at No Extra Charge</h3>
      <h4>12/07/2014</hr>
        <p>I researched the different types of variables available in Ruby prior to to week-6 of Phase 0 at Dev Bootcamp, but this week definitely focused more on the appropriate time to use each. So what are these mysterious variables? Last week, I probably couldn't have listed them all by heart. This week is another story: local variable, instance variable, class variable, global variable, and constant. BOOM.
        </p>
        <p>Before this week, we worked primarily with local variables and instance variables to a lesser extent. Local variables are by far the easiest to grasp but you run into problems with them if you're trying to use them across methods and classes. The first step in my understanding of variable scope was learning the difference between local and instance variables. Local variables can only be used in the method where they are defined. It is usually best practice to use local variables when you don't intend on using the variable again outside of the method. Instance variables give you more flexibility because you can use these them across several methods in addition to the method they were created in. In the example below, I used an instance variable for car using the @ symbol. Without the @ symbol, the cars variable is simply a local variable. By making cars an instance variable, I can use cars in all of my subsequent methods since they all fall within the same class.
        </p>
        <br>
        <p>
        <pre class="commands">class CarShopping
  def initialize(*cars)
    @cars = *cars
  end
  
  def testdrive
    @cars.each { |car| puts "Test driving #{car}" }
  end
  
  def buycar
    puts "I'll take the #{@cars.sample}!"
  end
end
 
cars = CarShopping.new("Mini Cooper","Volkswagen Karmann Ghia","MG MGB", "Triumph TR4")
p cars.testdrive
p cars.buycar
        </pre>
        <br>
        </p>
        <p>The limitation of instance variables becomes obvious when you begin working with multiple classes. What might we use when presented with this conundrum? The most obviously named class besides constant, the class variable, which allows you to use variables across methods in different classes. If your variable is created outside of the class structure, your two remaining options are global variables and constants. Global variables can be used anywhere in the code. They can be outside of the class structure or inside of a method within a class. Constants actually have global scope if placed outside of a class but they behave differently if you try to modify them. A global variable will allow you to modify the variable throughout the code without any issues. If you try to modify a constant, you will get a warning but you can also still redefine the constant after the warning. Check out the modified code below to see what I added.
        </p>
        <br>
        <p>
        <pre class="commands">class CarShopping
  def initialize(*cars)
    @cars = *cars
  end
  
  def testdrive
    @cars.each { |car| puts "Test driving #{car}" }
  end
  
  def buycar
    $newcar = @cars.sample
    puts "I'll take the #{$newcar}!"
  end
end

class CarAccessories
  def initialize(*accessories)
    @accessories = *accessories
  end

  def buyeverything
    puts "Since I just bought this fancy #{$newcar}, I'm going to splurge some more and by all of these accessories: #{@accessories}"
  end

  def justkidding
    puts "Just kidding, I would never do that to my #{$newcar}!"
  end
end
 
cars = CarShopping.new("Mini Cooper","Volkswagen Karmann Ghia","MG MGB", "Triumph TR4")
accessories = CarAccessories.new("Spoiler, rims, tinted window kit, pine tree air freshener, and stickers")
p cars.testdrive
p cars.buycar
p accessories.buyeverything
p accessories.justkidding
        </pre>
        </p>
        <br>
        <p>In the example above, I have modified the code to include a global variable with the $ symbol. This allows me to take the car that I bought in the buycar method and call that global variable in a new class called CarAccessories. I would not be able to insert the newcar variable in the CarAccessories class if I changed that global variable to an instance or local variable. Hopefully this solidifies some concepts for you if you were on the fence about when to use different types of variables.
        </p>
  </div>
  <div id="footer">Daniel E. Hanson
  </div>
</body>
</html>
